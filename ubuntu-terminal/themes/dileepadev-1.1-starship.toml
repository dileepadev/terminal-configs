# ~/.config/starship.toml

# Add a blank line before each prompt
add_newline = true

# Format of the whole prompt
format = """
$username$directory${custom.git_provider}$git_branch$git_status$python$nodejs$rust$package$time
$character
"""

# Username
[username]
format = "[\\[ğŸ‘£ $user\\]]($style)"
style_user = "bold #176bc6"
style_root = "bold #ff0000"
show_always = true

# Directory module
[directory]
format = "[ \\[ğŸ’ $path\\]]($style)"
style = "bold #33c7de"
truncate_to_repo = false

[custom.git_provider]
format = " [\\[$output\\]]($style)"
description = "Show Git remote provider"
# Use literal string (''' â€¦ ''') so no escapes are needed
command = '''
GIT_URL=$(git config --get remote.origin.url 2>/dev/null)
if [ -z "$GIT_URL" ]; then
  exit 1
fi

if echo "$GIT_URL" | grep -qi "github.com"; then
  echo "ğŸ™ GitHub"
elif echo "$GIT_URL" | grep -qi "gitlab.com"; then
  echo "ğŸ¦Š GitLab"
elif echo "$GIT_URL" | grep -qi "bitbucket.org"; then
  echo "ğŸª£ Bitbucket"
else
  # Fallback: just show host part
  HOST=$(echo "$GIT_URL" | sed -E 's#.*://([^/]+).*#\1#')
  echo "ğŸ‘» $HOST"
fi
'''
when = 'git rev-parse --is-inside-work-tree >/dev/null 2>&1'
style = "bold #b1b1b1"

# Git branch
[git_branch]
format = " [\\[$symbol$branch]($style)"
always_show_remote = false
symbol = 'ğŸŒ± '
style = "bold #99c23b"

# Git status with counts for all categories
[git_status]
# Format layout: all statuses then ahead/behind
format = "[$all_status$ahead_behind\\]]($style)"
# Show counts for each file status
conflicted = "\\(c=${count}\\)"
stashed = "\\(sâ‰¡${count}\\)"
deleted = "\\(dâœ˜${count}\\)"
renamed = "\\(rÂ»${count}\\)"
modified = "\\(m!${count}\\)"
staged = "\\(s+${count}\\)"
untracked = "\\(u?${count}\\)"
typechanged = "\\(t!${count}\\)"
# Show commits ahead/behind/diverged with commit counts
ahead = "â‡¡${count}"
behind = "â‡£${count}"
diverged = "â‡•â‡¡${ahead_count}â‡£${behind_count} "
# Style for git status
style = "bold #99c23b"

# Node.js version
[nodejs]
format = "[ \\[ğŸŸ¢ $symbol $version\\]]($style)"
symbol = "Node.js"
style = "bold #339933"

# Python version
[python]
format = "[ \\[ğŸ $symbol $version\\]]($style)"
symbol = "Python"
style = "bold #ffd43B"

# Rust cargo version
[rust]
format = "[ \\[ğŸ¦€ $symbol $version\\]]($style)"
symbol = "Rust"
style = "bold #dea584"

# Time module
[time]
disabled = false
format = '[ \[â° $time\]]($style)'
style = "bold #ff0040"
time_format = '%T'

# Package version
[package]
disabled = false
display_private = true
format = "[ \\[$symbol$version\\]]($style)"
symbol = "ğŸ“¦ "
style = "bold #db7500"

# Change the prompt character (success / error)
[character]
success_symbol = "[â¤](bold #05e469)"
error_symbol = "[âœ˜](bold #ff0000)"
